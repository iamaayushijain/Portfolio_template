{
  "version": 3,
  "sources": ["../../object-fit-images/dist/ofi.common-js.js"],
  "sourcesContent": ["/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {style: {'object-position': 1}} : new Image();\nvar supportsObjectFit = 'object-fit' in testImg.style;\nvar supportsObjectPosition = 'object-position' in testImg.style;\nvar supportsOFI = 'background-size' in testImg.style;\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n\treturn (\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\");\n}\n\nfunction polyfillCurrentSrc(el) {\n\tif (el.srcset && !supportsCurrentSrc && window.picturefill) {\n\t\tvar pf = window.picturefill._;\n\t\t// parse srcset with picturefill where currentSrc isn't available\n\t\tif (!el[pf.ns] || !el[pf.ns].evaled) {\n\t\t\t// force synchronous srcset parsing\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\tif (!el[pf.ns].curSrc) {\n\t\t\t// force picturefill to parse srcset\n\t\t\tel[pf.ns].supported = false;\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\t// retrieve parsed currentSrc, if any\n\t\tel.currentSrc = el[pf.ns].curSrc || el.src;\n\t}\n}\n\nfunction getStyle(el) {\n\tvar style = getComputedStyle(el).fontFamily;\n\tvar parsed;\n\tvar props = {};\n\twhile ((parsed = propRegex.exec(style)) !== null) {\n\t\tprops[parsed[1]] = parsed[2];\n\t}\n\treturn props;\n}\n\nfunction setPlaceholder(img, width, height) {\n\t// Default: fill width, no height\n\tvar placeholder = createPlaceholder(width || 1, height || 0);\n\n\t// Only set placeholder if it's different\n\tif (nativeGetAttribute.call(img, 'src') !== placeholder) {\n\t\tnativeSetAttribute.call(img, 'src', placeholder);\n\t}\n}\n\nfunction onImageReady(img, callback) {\n\t// naturalWidth is only available when the image headers are loaded,\n\t// this loop will poll it every 100ms.\n\tif (img.naturalWidth) {\n\t\tcallback(img);\n\t} else {\n\t\tsetTimeout(onImageReady, 100, img, callback);\n\t}\n}\n\nfunction fixOne(el) {\n\tvar style = getStyle(el);\n\tvar ofi = el[OFI];\n\tstyle['object-fit'] = style['object-fit'] || 'fill'; // default value\n\n\t// Avoid running where unnecessary, unless OFI had already done its deed\n\tif (!ofi.img) {\n\t\t// fill is the default behavior so no action is necessary\n\t\tif (style['object-fit'] === 'fill') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Where object-fit is supported and object-position isn't (Safari < 10)\n\t\tif (\n\t\t\t!ofi.skipTest && // unless user wants to apply regardless of browser support\n\t\t\tsupportsObjectFit && // if browser already supports object-fit\n\t\t\t!style['object-position'] // unless object-position is used\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// keep a clone in memory while resetting the original to a blank\n\tif (!ofi.img) {\n\t\tofi.img = new Image(el.width, el.height);\n\t\tofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n\t\tofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src;\n\n\t\t// preserve for any future cloneNode calls\n\t\t// https://github.com/bfred-it/object-fit-images/issues/53\n\t\tnativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\t\tif (el.srcset) {\n\t\t\tnativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n\t\t}\n\n\t\tsetPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height);\n\n\t\t// remove srcset because it overrides src\n\t\tif (el.srcset) {\n\t\t\tel.srcset = '';\n\t\t}\n\t\ttry {\n\t\t\tkeepSrcUsable(el);\n\t\t} catch (err) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.warn('https://bit.ly/ofi-old-browser');\n\t\t\t}\n\t\t}\n\t}\n\n\tpolyfillCurrentSrc(ofi.img);\n\n\tel.style.backgroundImage = \"url(\\\"\" + ((ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"')) + \"\\\")\";\n\tel.style.backgroundPosition = style['object-position'] || 'center';\n\tel.style.backgroundRepeat = 'no-repeat';\n\tel.style.backgroundOrigin = 'content-box';\n\n\tif (/scale-down/.test(style['object-fit'])) {\n\t\tonImageReady(ofi.img, function () {\n\t\t\tif (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n\t\t\t\tel.style.backgroundSize = 'contain';\n\t\t\t} else {\n\t\t\t\tel.style.backgroundSize = 'auto';\n\t\t\t}\n\t\t});\n\t} else {\n\t\tel.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n\t}\n\n\tonImageReady(ofi.img, function (img) {\n\t\tsetPlaceholder(el, img.naturalWidth, img.naturalHeight);\n\t});\n}\n\nfunction keepSrcUsable(el) {\n\tvar descriptors = {\n\t\tget: function get(prop) {\n\t\t\treturn el[OFI].img[prop ? prop : 'src'];\n\t\t},\n\t\tset: function set(value, prop) {\n\t\t\tel[OFI].img[prop ? prop : 'src'] = value;\n\t\t\tnativeSetAttribute.call(el, (\"data-ofi-\" + prop), value); // preserve for any future cloneNode\n\t\t\tfixOne(el);\n\t\t\treturn value;\n\t\t}\n\t};\n\tObject.defineProperty(el, 'src', descriptors);\n\tObject.defineProperty(el, 'currentSrc', {\n\t\tget: function () { return descriptors.get('currentSrc'); }\n\t});\n\tObject.defineProperty(el, 'srcset', {\n\t\tget: function () { return descriptors.get('srcset'); },\n\t\tset: function (ss) { return descriptors.set(ss, 'srcset'); }\n\t});\n}\n\nfunction hijackAttributes() {\n\tfunction getOfiImageMaybe(el, name) {\n\t\treturn el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n\t}\n\tif (!supportsObjectPosition) {\n\t\tHTMLImageElement.prototype.getAttribute = function (name) {\n\t\t\treturn nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n\t\t};\n\n\t\tHTMLImageElement.prototype.setAttribute = function (name, value) {\n\t\t\treturn nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n\t\t};\n\t}\n}\n\nfunction fix(imgs, opts) {\n\tvar startAutoMode = !autoModeEnabled && !imgs;\n\topts = opts || {};\n\timgs = imgs || 'img';\n\n\tif ((supportsObjectPosition && !opts.skipTest) || !supportsOFI) {\n\t\treturn false;\n\t}\n\n\t// use imgs as a selector or just select all images\n\tif (imgs === 'img') {\n\t\timgs = document.getElementsByTagName('img');\n\t} else if (typeof imgs === 'string') {\n\t\timgs = document.querySelectorAll(imgs);\n\t} else if (!('length' in imgs)) {\n\t\timgs = [imgs];\n\t}\n\n\t// apply fix to all\n\tfor (var i = 0; i < imgs.length; i++) {\n\t\timgs[i][OFI] = imgs[i][OFI] || {\n\t\t\tskipTest: opts.skipTest\n\t\t};\n\t\tfixOne(imgs[i]);\n\t}\n\n\tif (startAutoMode) {\n\t\tdocument.body.addEventListener('load', function (e) {\n\t\t\tif (e.target.tagName === 'IMG') {\n\t\t\t\tfix(e.target, {\n\t\t\t\t\tskipTest: opts.skipTest\n\t\t\t\t});\n\t\t\t}\n\t\t}, true);\n\t\tautoModeEnabled = true;\n\t\timgs = 'img'; // reset to a generic selector for watchMQ\n\t}\n\n\t// if requested, watch media queries for object-fit change\n\tif (opts.watchMQ) {\n\t\twindow.addEventListener('resize', fix.bind(null, imgs, {\n\t\t\tskipTest: opts.skipTest\n\t\t}));\n\t}\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\n\nhijackAttributes();\n\nmodule.exports = fix;\n"],
  "mappings": "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",
  "names": []
}
