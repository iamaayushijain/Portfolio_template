{"version":3,"file":"transition.js","sources":["../../../../../components/Modal/components/transition.tsx"],"sourcesContent":["import React from 'react';\n\nconst EXITED = 'exited';\nconst ENTERING = 'entering';\nconst ENTERED = 'entered';\nconst EXITING = 'exiting';\n\ntype Stage = 'exited' | 'entering' | 'entered' | 'exiting' | null;\n\ninterface PropTypes {\n    children: (stage: Stage) => JSX.Element;\n    in: boolean;\n    timeout: {\n        enter: number;\n        exit: number;\n    };\n    onEntered?: () => void;\n    onExited?: () => void;\n}\n\ninterface StateTypes {\n    stage: Stage;\n    currentTimeout: number | null;\n}\n\nexport default class Transition extends React.Component<PropTypes, StateTypes> {\n    constructor(props: PropTypes) {\n        super(props);\n\n        this.state = {\n            stage: null,\n            currentTimeout: null,\n        };\n    }\n\n    componentDidMount(): void {\n        const { in: inProp } = this.props;\n\n        this.setState({\n            stage: inProp ? ENTERING : EXITED,\n            currentTimeout: null,\n        });\n\n        this.onEntering = this.onEntering.bind(this);\n        this.onEntered = this.onEntered.bind(this);\n        this.onExiting = this.onExiting.bind(this);\n        this.onExited = this.onExited.bind(this);\n        this.clearExistingTimeout = this.clearExistingTimeout.bind(this);\n\n        // Call `onEntered` If the modal is immediately open when it mounts.\n        if (inProp) {\n            this.onEntered();\n        }\n    }\n\n    componentDidUpdate(prevProps: { in: boolean }): void {\n        const { in: inProp } = this.props;\n\n        if (prevProps.in !== inProp) {\n            this.clearExistingTimeout();\n\n            if (inProp) {\n                this.onEntering();\n            } else {\n                this.onExiting();\n            }\n        }\n    }\n\n    componentWillUnmount(): void {\n        this.clearExistingTimeout();\n    }\n\n    onEntering(): void {\n        const { timeout } = this.props;\n\n        this.setState({\n            stage: ENTERING,\n            currentTimeout: window.setTimeout(this.onEntered, timeout.enter),\n        });\n    }\n\n    onEntered(): void {\n        const { onEntered } = this.props;\n\n        this.setState({ stage: ENTERED });\n\n        if (onEntered) {\n            onEntered();\n        }\n    }\n\n    onExiting(): void {\n        const { timeout } = this.props;\n\n        this.setState({\n            stage: EXITING,\n            currentTimeout: window.setTimeout(this.onExited, timeout.exit),\n        });\n    }\n\n    onExited(): void {\n        const { onExited } = this.props;\n\n        this.setState({ stage: EXITED });\n\n        if (onExited) {\n            onExited();\n        }\n    }\n\n    clearExistingTimeout(): void {\n        const { currentTimeout } = this.state;\n\n        if (currentTimeout) {\n            clearTimeout(currentTimeout);\n        }\n    }\n\n    render(): JSX.Element | null {\n        const { stage } = this.state;\n        const { children } = this.props;\n\n        if (!stage) {\n            return null;\n        }\n\n        return children(stage);\n    }\n}\n"],"names":["EXITED","ENTERING","ENTERED","EXITING","Transition","props","state","stage","currentTimeout","inProp","in","setState","onEntering","bind","onEntered","onExiting","onExited","clearExistingTimeout","prevProps","timeout","window","setTimeout","enter","exit","clearTimeout","children","React","Component"],"mappings":";;;AAEA,IAAMA,MAAM,GAAG,QAAf;AACA,IAAMC,QAAQ,GAAG,UAAjB;AACA,IAAMC,OAAO,GAAG,SAAhB;AACA,IAAMC,OAAO,GAAG,SAAhB;;IAoBqBC;;;;;sBACLC,KAAZ;;;;;oFACUA,KAAN;UAEKC,KAAL,GAAa;MACTC,KAAK,EAAE,IADE;MAETC,cAAc,EAAE;KAFpB;;;;;;;UAOYC,SAAW,KAAKJ,MAApBK;WAEHC,QAAL,CAAc;QACVJ,KAAK,EAAEE,MAAM,GAAGR,QAAH,GAAcD,MADjB;QAEVQ,cAAc,EAAE;OAFpB;WAKKI,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;WACKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;WACKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;WACKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;WACKI,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BJ,IAA1B,CAA+B,IAA/B,CAA5B;;UAGIJ,MAAJ,EAAY;aACHK,SAAL;;;;;uCAIWI;UACHT,SAAW,KAAKJ,MAApBK;;UAEJQ,SAAS,CAACR,EAAV,KAAiBD,MAArB,EAA6B;aACpBQ,oBAAL;;YAEIR,MAAJ,EAAY;eACHG,UAAL;SADJ,MAEO;eACEG,SAAL;;;;;;;WAMHE,oBAAL;;;;;UAIQE,UAAY,KAAKd,MAAjBc;WAEHR,QAAL,CAAc;QACVJ,KAAK,EAAEN,QADG;QAEVO,cAAc,EAAEY,MAAM,CAACC,UAAP,CAAkB,KAAKP,SAAvB,EAAkCK,OAAO,CAACG,KAA1C;OAFpB;;;;;UAOQR,YAAc,KAAKT,MAAnBS;WAEHH,QAAL,CAAc;QAAEJ,KAAK,EAAEL;OAAvB;;UAEIY,SAAJ,EAAe;QACXA,SAAS;;;;;;UAKLK,UAAY,KAAKd,MAAjBc;WAEHR,QAAL,CAAc;QACVJ,KAAK,EAAEJ,OADG;QAEVK,cAAc,EAAEY,MAAM,CAACC,UAAP,CAAkB,KAAKL,QAAvB,EAAiCG,OAAO,CAACI,IAAzC;OAFpB;;;;;UAOQP,WAAa,KAAKX,MAAlBW;WAEHL,QAAL,CAAc;QAAEJ,KAAK,EAAEP;OAAvB;;UAEIgB,QAAJ,EAAc;QACVA,QAAQ;;;;;;UAKJR,iBAAmB,KAAKF,MAAxBE;;UAEJA,cAAJ,EAAoB;QAChBgB,YAAY,CAAChB,cAAD,CAAZ;;;;;;UAKID,QAAU,KAAKD,MAAfC;UACAkB,WAAa,KAAKpB,MAAlBoB;;UAEJ,CAAClB,KAAL,EAAY;eACD,IAAP;;;aAGGkB,QAAQ,CAAClB,KAAD,CAAf;;;;;EAtGgCmB,KAAK,CAACC;;;;"}